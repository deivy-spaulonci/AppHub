<p-panel [toggleable]="false" [style]="{width: '1000px', margin: '0 auto'}">
  <ng-template #icons>
    <p-button icon="pi pi-align-justify" severity="secondary" rounded text (onClick)="goToContalist()"/>
  </ng-template>

  <ng-template  #header>
    Conta
    <p-message *ngIf="conta.status=='Em Aberto'" icon="pi pi-calendar-clock" severity="success">{{conta.status}}</p-message>
    <p-message *ngIf="conta.status=='Pago'" icon="pi pi-check-square" severity="info">{{ conta.status}}</p-message>
    <p-message *ngIf="conta.status=='Atrasado'" icon="pi pi-exclamation-circle" severity="error">{{ conta.status}}</p-message>
    <p-message *ngIf="conta.status=='Vencimento Hoje'" icon="pi pi-bell" severity="warn">{{ conta.status}}</p-message>

    <p-message *ngIf="!conta.tipoConta.ativo" icon="pi pi-flag-fill" severity="warn">Conta ja cancelada!</p-message>
  </ng-template>

  <div class="line1">
    <span>Codigo de Barras:</span>
    <span>{{ conta.codigoBarra }}</span>
    <span>Conta:</span>
    <span>{{ conta.tipoConta.nome }}</span>
  </div>
  <div class="line2">
    <span>Emiss√£o:</span>
    <span>{{ conta.emissao | date: 'dd/MM/yyyy' }}</span>
    <span>Vencimento:</span>
    <span>{{ conta.vencimento | date: 'dd/MM/yyyy' }}</span>
    <span>Parcelas:</span>
    <span>{{ conta.parcela + '/' + conta.totalParcela }}</span>
    <span>Valor:</span>
    <span>{{ conta.valor | currency }}</span>
  </div>

  <p-divider type="dashed"  align="left">
    <b>Pagamento</b>
  </p-divider>
  <div class="line1">
    <span>Data Pgto:</span>
    <span><b>{{ conta.dataPagamento ? (conta.dataPagamento | date: 'dd/MM/yyyy') : '-' }}</b></span>
    <span>Forma Pgto:</span>
    <span><b>{{ conta.formaPagamento ? conta.formaPagamento.nome : '-' }}</b></span>
    <span>Multa:</span>
    <span><b>{{ conta.multa ? conta.multa : '-' }}</b></span>
    <span>Obs:</span>
    <span>{{conta.obs}}</span>
  </div>

  <p-divider type="dashed"  align="left">
    <b>Faturas</b>
  </p-divider>

  <p-table *ngIf="conta.tipoConta.cartaoCredito" [value]="conta.faturas"
           [scrollable]="true" scrollHeight="300px" size="small">

    <ng-template #header>
      <tr>
        <th>Data</th>
        <th>Valor</th>
        <th>Parcelas</th>
        <th>Fornecedor</th>
      </tr>
    </ng-template>
    <ng-template #body let-fatura>
      <tr>
        <td class="text-center">{{ fatura.dataPagamento | date: 'dd/MM/yyyy'}}</td>
        <td class="text-right">{{ fatura.valor | currency }}</td>
        <td class="text-center">{{ fatura.parcela + "/" +fatura.totalParcela }}</td>
        <td>{{ fatura.fornecedor.nome }}</td>
      </tr>
    </ng-template>
  </p-table>

  <ng-template #footer>
    <div class="flex flex-wrap items-center justify-between gap-4">
      <div class="flex items-center gap-2">
        <p-button icon="pi pi-user" rounded text></p-button>
        <p-button icon="pi pi-bookmark" severity="secondary" rounded text></p-button>
      </div>
    </div>
  </ng-template>
</p-panel>
